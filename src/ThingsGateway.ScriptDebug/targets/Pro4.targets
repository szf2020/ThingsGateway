<Project>

	<ItemGroup>
		<PackageReference Include="ThingsGateway.Plugin.ModbusC1" Version="$(ProPluginVersion)" GeneratePathProperty="true" Private="false"  IncludeAssets="all;" />
		<PackageReference Include="ThingsGateway.Plugin.ModbusGY" Version="$(ProPluginVersion)" GeneratePathProperty="true" Private="false"  IncludeAssets="all;" />

	</ItemGroup>

	<Target Name="CopyOtherPlugin1NugetPackages" AfterTargets="Build">

		<ItemGroup>
			<!-- setting up the variable for convenience -->
			<PkgThingsGateway_Plugin_ModbusC1PackageFiles Include="$(PkgThingsGateway_Plugin_ModbusC1)\Content\$(PluginTargetFramework)\**\*.*" />
			<PkgThingsGateway_Plugin_ModbusGYPackageFiles Include="$(PkgThingsGateway_Plugin_ModbusGY)\Content\$(PluginTargetFramework)\**\*.*" />
		</ItemGroup>
		<PropertyGroup>
			<PluginFolder>$(TargetDir)Plugins\</PluginFolder>
		</PropertyGroup>
		<Message Text="将Modbus定制插件复制到插件目录 $(PluginFolder)" Importance="high" />

		<Copy SourceFiles="@(PkgThingsGateway_Plugin_ModbusC1PackageFiles)" DestinationFolder="$(PluginFolder)%(RecursiveDir)" />
		<Copy SourceFiles="@(PkgThingsGateway_Plugin_ModbusGYPackageFiles)" DestinationFolder="$(PluginFolder)%(RecursiveDir)" />

	</Target>

</Project>
